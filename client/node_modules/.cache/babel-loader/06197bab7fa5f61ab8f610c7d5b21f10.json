{"ast":null,"code":"var _jsxFileName = \"/Users/brianmckenna/Desktop/node_js_projects/BrianMcKenna_CA2/client/src/components/Modal/AddMovieForm.js\";\nimport React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles'; // had to find a way of changing a react hook style to a class component style as my react hook form was not working properly found the solution here: https://github.com/mui-org/material-ui/issues/15820\n\nlet styles = theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '99%'\n    }\n  }\n});\n\nclass AddMovieForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imdbID: \"\",\n      Title: \"\",\n      Genre: \"\",\n      Plot: \"\",\n      Runtime: \"\",\n      Year: \"\",\n      Director: \"\",\n      imdbRating: \"\"\n    };\n\n    this.onSubmit = formErrors => {\n      if (formErrors.length === 0) {\n        this.props.addMovie(this.state);\n        this.setState({\n          imdbID: \"\",\n          Title: \"\",\n          Genre: \"\",\n          Plot: \"\",\n          Runtime: \"\",\n          Year: \"\",\n          Director: \"\",\n          imdbRating: \"\"\n        });\n        this.props.closeWithSubmit();\n      } else {\n        alert(\"RECORD NOT ADDED, INVALID ENTRY\");\n      }\n    };\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props; // add each error to a list\n    // onsubmit check the length of the error list\n    // if the errors are === 0 then allow the onsubmit to happen\n\n    let INVALID_MOVIE_ID_MSG = \"\";\n    let INVALID_TITLE_MSG = \"\";\n    let INVALID_GENRE_MSG = \"\";\n    let INVALID_PLOT_MSG = \"\";\n    let INVALID_RUNTIME_MSG = \"\";\n    let INVALID_YEAR_MSG = \"\";\n    let INVALID_DIRECTOR_MSG = \"\";\n    let INVALID_IMDB_RATING_MSG = \"\";\n    const formErrors = [];\n    let isValidMovieId = true;\n    let isValidMovieTitle = true;\n    let isValidMovieGenre = true;\n    let isValidMoviePlot = true;\n    let isValidMovieRuntime = true;\n    let isValidMovieYear = true;\n    let isValidMovieDirector = true;\n    let isValidMovieImdbRating = true; // conditions for error messages\n\n    if (!this.state.imdbID.match(\"[T][T][0-9]+\")) {\n      INVALID_MOVIE_ID_MSG += \"Enter a valid Movie Id e.g TT012345\";\n      formErrors.push(INVALID_MOVIE_ID_MSG);\n      isValidMovieId = false;\n    }\n\n    if (!this.state.Title.match(\"^[a-zA-Z0-9]{2,30}$\")) {\n      INVALID_TITLE_MSG += \"Enter a valid Movie Title (range 2-30 characters)\";\n      formErrors.push(INVALID_TITLE_MSG);\n      isValidMovieTitle = false;\n    }\n\n    if (!this.state.Genre.match(\"^[a-zA-Z0-9]{2,30}$\")) {\n      INVALID_GENRE_MSG += \"Enter a valid Movie Genre (range 2-30 characters)\";\n      formErrors.push(INVALID_GENRE_MSG);\n      isValidMovieGenre = false;\n    }\n\n    if (!this.state.Plot.match(\"^[a-zA-Z0-9]{2,200}$\")) {\n      INVALID_PLOT_MSG += \"Enter a valid Movie Plot (range 2-200 characters)\";\n      formErrors.push(INVALID_PLOT_MSG);\n      isValidMoviePlot = false;\n    }\n\n    if (!this.state.Runtime.match(\"^[0-9]{2,3} [m][i][n]$\")) {\n      INVALID_RUNTIME_MSG += \"Enter a valid Movie Runtime e.g 90 min or 120 min\";\n      formErrors.push(INVALID_RUNTIME_MSG);\n      isValidMovieRuntime = false;\n    }\n\n    if (!this.state.Year.match(\"(?:(?:19|20)[0-9]{2})\")) {\n      INVALID_YEAR_MSG += \"Enter a valid Movie Year (range 1900-2099)\";\n      formErrors.push(INVALID_YEAR_MSG);\n      isValidMovieYear = false;\n    }\n\n    if (this.state.Director.length < 2 || !this.state.Director.match(\"^[A-Za-z\\\\s]+$\")) {\n      INVALID_DIRECTOR_MSG += \"Enter a valid Movie Director e.g Michael Jackson\";\n      formErrors.push(INVALID_DIRECTOR_MSG);\n      isValidMovieDirector = false;\n    }\n\n    if (!this.state.imdbRating.match(\"^([0-9]|1[0])$\")) {\n      INVALID_IMDB_RATING_MSG += \"Enter a valid IMDB Rating (1-10)\";\n      formErrors.push(INVALID_IMDB_RATING_MSG);\n      isValidMovieImdbRating = false;\n    } // const errorListItems = formErrors.map((formError, index) => <li key={index++}>{formError}</li>)\n\n\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: classes.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      error: isValidMovieId,\n      required: true,\n      name: \"movieId\",\n      label: \"Movie Id\",\n      placeholder: \"Enter Movie ID...\",\n      variant: \"outlined\",\n      value: this.state.imdbID,\n      onChange: e => this.setState({\n        imdbID: e.target.value\n      }),\n      helperText: INVALID_MOVIE_ID,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"movieTitle\",\n      label: \"Movie Title\",\n      placeholder: \"Enter Movie Title...\",\n      variant: \"outlined\",\n      value: this.state.Title,\n      onChange: e => this.setState({\n        Title: e.target.value\n      }),\n      helperText: INVALID_TITLE,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"movieGenre\",\n      label: \"Movie Genre\",\n      placeholder: \"Enter Movie Genre...\",\n      variant: \"outlined\",\n      value: this.state.Genre,\n      onChange: e => this.setState({\n        Genre: e.target.value\n      }),\n      helperText: INVALID_GENRE,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"moviePlot\",\n      label: \"Movie Plot\",\n      placeholder: \"Enter Movie Plot...\",\n      variant: \"outlined\",\n      multiline: true,\n      fullWidth: true,\n      value: this.state.Plot,\n      onChange: e => this.setState({\n        Plot: e.target.value\n      }),\n      helperText: INVALID_PLOT,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"movieRuntime\",\n      label: \"Movie Runtime\",\n      placeholder: \"Enter Movie Runtime...\",\n      variant: \"outlined\",\n      value: this.state.Runtime,\n      onChange: e => this.setState({\n        Runtime: e.target.value\n      }),\n      helperText: INVALID_RUNTIME,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"movieYear\",\n      label: \"Movie Year\",\n      placeholder: \"Enter Movie Year...\",\n      variant: \"outlined\",\n      value: this.state.Year,\n      onChange: e => this.setState({\n        Year: e.target.value\n      }),\n      helperText: INVALID_YEAR,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"movieDirector\",\n      label: \"Movie Director\",\n      placeholder: \"Enter Movie Year...\",\n      variant: \"outlined\",\n      value: this.state.Director,\n      onChange: e => this.setState({\n        Director: e.target.value\n      }),\n      helperText: INVALID_DIRECTOR,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"movieImdbRating\",\n      label: \"IMDB Rating\",\n      placeholder: \"Enter Movie Year...\",\n      variant: \"outlined\",\n      value: this.state.imdbRating,\n      onChange: e => this.setState({\n        imdbRating: e.target.value\n      }),\n      helperText: INVALID_IMDB_RATING,\n      id: \"standard-error-helper-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      value: \"Submit\",\n      onClick: () => this.onSubmit(formErrors),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    }, \"Submit\")));\n  }\n\n}\n\nexport default withStyles(styles)(AddMovieForm);","map":{"version":3,"sources":["/Users/brianmckenna/Desktop/node_js_projects/BrianMcKenna_CA2/client/src/components/Modal/AddMovieForm.js"],"names":["React","Component","Button","TextField","withStyles","styles","theme","root","margin","spacing","width","AddMovieForm","state","imdbID","Title","Genre","Plot","Runtime","Year","Director","imdbRating","onSubmit","formErrors","length","props","addMovie","setState","closeWithSubmit","alert","render","classes","INVALID_MOVIE_ID_MSG","INVALID_TITLE_MSG","INVALID_GENRE_MSG","INVALID_PLOT_MSG","INVALID_RUNTIME_MSG","INVALID_YEAR_MSG","INVALID_DIRECTOR_MSG","INVALID_IMDB_RATING_MSG","isValidMovieId","isValidMovieTitle","isValidMovieGenre","isValidMoviePlot","isValidMovieRuntime","isValidMovieYear","isValidMovieDirector","isValidMovieImdbRating","match","push","e","target","value","INVALID_MOVIE_ID","INVALID_TITLE","INVALID_GENRE","INVALID_PLOT","INVALID_RUNTIME","INVALID_YEAR","INVALID_DIRECTOR","INVALID_IMDB_RATING"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\n\n// had to find a way of changing a react hook style to a class component style as my react hook form was not working properly found the solution here: https://github.com/mui-org/material-ui/issues/15820\n\nlet styles = (theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n          margin: theme.spacing(1),\n          width: '99%',\n        },\n      },\n  });\n\nclass AddMovieForm extends Component {\n  \n    state = {\n        imdbID: \"\", \n        Title: \"\",\n        Genre: \"\",\n        Plot: \"\",\n        Runtime: \"\",\n        Year: \"\",\n        Director: \"\",\n        imdbRating: \"\"\n    }\n\n    // take in errorMessage array length?\n    onSubmit = (formErrors) => {\n\n      if(formErrors.length === 0)\n      {\n        this.props.addMovie(this.state)\n\n        this.setState({\n          imdbID: \"\", \n          Title: \"\",\n          Genre: \"\",\n          Plot: \"\",\n          Runtime: \"\",\n          Year: \"\",\n          Director: \"\",\n          imdbRating: \"\"\n        })\n  \n        this.props.closeWithSubmit()\n\n      }\n      else {\n        alert(\"RECORD NOT ADDED, INVALID ENTRY\")\n      }\n    }\n  \n    render()\n    {\n        const { classes } = this.props;\n\n        // add each error to a list\n        // onsubmit check the length of the error list\n        // if the errors are === 0 then allow the onsubmit to happen\n\n        let INVALID_MOVIE_ID_MSG = \"\"\n        let INVALID_TITLE_MSG = \"\"\n        let INVALID_GENRE_MSG = \"\"\n        let INVALID_PLOT_MSG = \"\"\n        let INVALID_RUNTIME_MSG = \"\"\n        let INVALID_YEAR_MSG = \"\"\n        let INVALID_DIRECTOR_MSG = \"\"\n        let INVALID_IMDB_RATING_MSG = \"\"\n\n        const formErrors = []\n\n        let isValidMovieId = true\n        let isValidMovieTitle = true\n        let isValidMovieGenre = true\n        let isValidMoviePlot = true\n        let isValidMovieRuntime = true\n        let isValidMovieYear = true\n        let isValidMovieDirector = true\n        let isValidMovieImdbRating = true\n\n        // conditions for error messages\n\n        if(!this.state.imdbID.match(\"[T][T][0-9]+\"))\n        {\n          INVALID_MOVIE_ID_MSG += \"Enter a valid Movie Id e.g TT012345\"\n          formErrors.push(INVALID_MOVIE_ID_MSG)\n          isValidMovieId = false\n        }\n        if(!this.state.Title.match(\"^[a-zA-Z0-9]{2,30}$\"))\n        {\n          INVALID_TITLE_MSG += \"Enter a valid Movie Title (range 2-30 characters)\"\n          formErrors.push(INVALID_TITLE_MSG)\n          isValidMovieTitle = false\n        }\n        if(!this.state.Genre.match(\"^[a-zA-Z0-9]{2,30}$\"))\n        {\n          INVALID_GENRE_MSG += \"Enter a valid Movie Genre (range 2-30 characters)\"\n          formErrors.push(INVALID_GENRE_MSG)\n          isValidMovieGenre = false\n        }\n        if(!this.state.Plot.match(\"^[a-zA-Z0-9]{2,200}$\"))\n        {\n          INVALID_PLOT_MSG += \"Enter a valid Movie Plot (range 2-200 characters)\"\n          formErrors.push(INVALID_PLOT_MSG)\n          isValidMoviePlot = false\n        }\n        if(!this.state.Runtime.match(\"^[0-9]{2,3} [m][i][n]$\"))\n        {\n          INVALID_RUNTIME_MSG += \"Enter a valid Movie Runtime e.g 90 min or 120 min\"\n          formErrors.push(INVALID_RUNTIME_MSG)\n          isValidMovieRuntime = false\n        }\n        if(!this.state.Year.match(\"(?:(?:19|20)[0-9]{2})\"))\n        {\n          INVALID_YEAR_MSG += \"Enter a valid Movie Year (range 1900-2099)\"\n          formErrors.push(INVALID_YEAR_MSG)\n          isValidMovieYear = false\n        }\n        if(this.state.Director.length < 2 || !this.state.Director.match(\"^[A-Za-z\\\\s]+$\"))\n        {\n          INVALID_DIRECTOR_MSG += \"Enter a valid Movie Director e.g Michael Jackson\"\n          formErrors.push(INVALID_DIRECTOR_MSG)\n          isValidMovieDirector = false\n        }\n        if(!this.state.imdbRating.match(\"^([0-9]|1[0])$\"))\n        {\n          INVALID_IMDB_RATING_MSG += \"Enter a valid IMDB Rating (1-10)\"\n          formErrors.push(INVALID_IMDB_RATING_MSG)\n          isValidMovieImdbRating = false\n        }\n\n        // const errorListItems = formErrors.map((formError, index) => <li key={index++}>{formError}</li>)\n        \n        return (\n            <form className={classes.root} noValidate autoComplete=\"off\" >\n              <div>\n                <TextField\n                  error={isValidMovieId}\n                  required\n                  name=\"movieId\"\n                  label=\"Movie Id\"\n                  placeholder=\"Enter Movie ID...\"\n                  variant=\"outlined\"\n                  value={this.state.imdbID}\n                  onChange={e => this.setState({imdbID: e.target.value})}\n                  helperText={INVALID_MOVIE_ID}\n                  id=\"standard-error-helper-text\"    \n                />\n    \n                <TextField\n                  required\n                  name=\"movieTitle\"\n                  label=\"Movie Title\"\n                  placeholder=\"Enter Movie Title...\"\n                  variant=\"outlined\"\n                  value={this.state.Title}\n                  onChange={e => this.setState({Title: e.target.value})}\n                  helperText={INVALID_TITLE}\n                  id=\"standard-error-helper-text\"\n                />\n    \n                <TextField\n                  required                \n                  name=\"movieGenre\"\n                  label=\"Movie Genre\"\n                  placeholder=\"Enter Movie Genre...\"\n                  variant=\"outlined\"\n                  value={this.state.Genre}\n                  onChange={e => this.setState({Genre: e.target.value})}\n                  helperText={INVALID_GENRE}\n                  id=\"standard-error-helper-text\"\n                />\n    \n                <TextField\n                  required \n                  name=\"moviePlot\"\n                  label=\"Movie Plot\"\n                  placeholder=\"Enter Movie Plot...\"\n                  variant=\"outlined\"\n                  multiline={true}\n                  fullWidth={true}\n                  value={this.state.Plot}\n                  onChange={e => this.setState({Plot: e.target.value})}\n                  helperText={INVALID_PLOT}\n                  id=\"standard-error-helper-text\"\n                />\n    \n                <TextField\n                  required \n                  name=\"movieRuntime\"\n                  label=\"Movie Runtime\"\n                  placeholder=\"Enter Movie Runtime...\"\n                  variant=\"outlined\"\n                  value={this.state.Runtime}\n                  onChange={e => this.setState({Runtime: e.target.value})}\n                  helperText={INVALID_RUNTIME}\n                  id=\"standard-error-helper-text\"\n                  />\n    \n                <TextField\n                  required \n                  name=\"movieYear\"\n                  label=\"Movie Year\"\n                  placeholder=\"Enter Movie Year...\"\n                  variant=\"outlined\"\n                  value={this.state.Year}\n                  onChange={e => this.setState({Year: e.target.value})}\n                  helperText={INVALID_YEAR}\n                  id=\"standard-error-helper-text\"\n                />\n\n                <TextField\n                  required \n                  name=\"movieDirector\"\n                  label=\"Movie Director\"\n                  placeholder=\"Enter Movie Year...\"\n                  variant=\"outlined\"\n                  value={this.state.Director}\n                  onChange={e => this.setState({Director: e.target.value})}\n                  helperText={INVALID_DIRECTOR}\n                  id=\"standard-error-helper-text\"\n                />\n\n                <TextField\n                  required \n                  name=\"movieImdbRating\"\n                  label=\"IMDB Rating\"\n                  placeholder=\"Enter Movie Year...\"\n                  variant=\"outlined\"\n                  value={this.state.imdbRating}\n                  onChange={e => this.setState({imdbRating: e.target.value})}\n                  helperText={INVALID_IMDB_RATING}\n                  id=\"standard-error-helper-text\"\n                />\n\n                {/* <ul>{errorListItems}</ul> */}\n    \n              <Button variant=\"primary\" value=\"Submit\" onClick={() => this.onSubmit(formErrors)} >\n                Submit\n              </Button>\n              \n              </div>\n            </form>\n          )\n    }\n}\n\nexport default withStyles(styles)(AddMovieForm);"]},"metadata":{},"sourceType":"module"}